<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reset Password</title>
</head>
<body>
  <h2>Reset Your Password</h2>

  <input type="password" id="new-password" placeholder="New Password">
  <button onclick="updatePassword()">Update Password</button>

  <p id="status"></p>

  <script type="module">
    import { createClient } from '@supabase/supabase-js';

    const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;
    const SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY;
    const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function updatePassword() {
      const newPassword = document.getElementById('new-password').value;

      const { data, error } = await supabaseClient.auth.updateUser({ password: newPassword });

      if (error) {
        document.getElementById('status').innerText = `Error: ${error.message}`;
      } else {
        document.getElementById('status').innerText = "Password updated successfully! You can now log in.";
      }
    }
  </script>
</body>
</html>

