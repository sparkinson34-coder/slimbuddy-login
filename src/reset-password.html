<!DOCTYPE html>
<html>
<head>
  <title>Reset Password</title>
</head>
<body>
  <h2>Enter your new password</h2>
  <input type="password" id="newPassword" placeholder="New Password" />
  <button onclick="updatePassword()">Update Password</button>
  <p id="status"></p>

  <script type="module">
    import { createClient } from '@supabase/supabase-js';

    const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;
    const SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY;
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function updatePassword() {
      const newPassword = document.getElementById('newPassword').value;
      const { error } = await supabase.auth.updateUser({ password: newPassword });

      if (error) {
        document.getElementById('status').innerText = `Error: ${error.message}`;
      } else {
        document.getElementById('status').innerText = 'Password updated successfully!';
      }
    }
  </script>
</body>
</html>
